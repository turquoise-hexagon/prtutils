#!/usr/bin/env bash
#
# format ports commits

for pkg in *; {
    [[ -d $pkg ]] && {
        . "$pkg/Pkgfile" || {
            echo "${0##*/} : can't source the Pkgfile for '$pkg'" >&2
            exit 1
        }

        # compare versions
        cur=$version-$release
        var=$(prt-get printf '%v-%r' --filter="$name")

        git add "$pkg"

        [[ ! $cur ]]                  &&
            git commit -m "add $name" ||
            git commit -m "$name : $cur -> $var"
    }
}
